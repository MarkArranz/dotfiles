#!/usr/bin/env bash
set -euo pipefail

# Focus an existing kitty window, or launch a new instance if none exists.

address=$(hyprctl clients -j | jq -r '.[] | select(.class == "kitty") | .address' | head -1)

if [[ -n "$address" ]]; then
  hyprctl dispatch focuswindow "address:$address"
else
  uwsm app -- kitty --single-instance
fi
